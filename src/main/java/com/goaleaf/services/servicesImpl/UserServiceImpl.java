package com.goaleaf.services.servicesImpl;

import com.auth0.jwt.JWT;
import com.goaleaf.controllers.AuthController;
import com.goaleaf.entities.*;
import com.goaleaf.entities.DTO.HabitDTO;
import com.goaleaf.entities.DTO.UserDTO;
import com.goaleaf.entities.DTO.pagination.HabitPageDTO;
import com.goaleaf.entities.viewModels.accountsAndAuthorization.*;
import com.goaleaf.repositories.*;
import com.goaleaf.security.EmailNotificationsSender;
import com.goaleaf.security.EmailSender;
import com.goaleaf.services.*;
import com.goaleaf.validators.FileConverter;
import com.goaleaf.validators.UserCredentialsValidator;
import com.goaleaf.validators.exceptions.accountsAndAuthorization.AccountNotExistsException;
import com.goaleaf.validators.exceptions.accountsAndAuthorization.BadCredentialsException;
import com.goaleaf.validators.exceptions.accountsAndAuthorization.EmailExistsException;
import com.goaleaf.validators.exceptions.accountsAndAuthorization.LoginExistsException;
import io.jsonwebtoken.Claims;
import io.jsonwebtoken.Jwts;
import org.apache.commons.io.FileUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageImpl;
import org.springframework.data.domain.PageRequest;
import org.springframework.data.domain.Pageable;
import org.springframework.http.HttpStatus;
import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import org.springframework.web.multipart.MultipartFile;

import javax.mail.MessagingException;
import java.io.File;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import static com.auth0.jwt.algorithms.Algorithm.HMAC512;
import static com.goaleaf.security.SecurityConstants.*;


@Service
public class UserServiceImpl implements UserService {

    @Autowired
    private AuthController authController;
    @Autowired
    private UserRepository userRepository;
    @Autowired
    private HabitService habitService;
    @Autowired
    private MemberService memberService;
    @Autowired
    private MemberRepository memberRepository;
    @Autowired
    private StatsService statsService;
    @Autowired
    private PostRepository postRepository;
    @Autowired
    private CommentRepository commentRepository;
    @Autowired
    private JwtService jwtService;
    @Autowired
    private HabitRepository habitRepository;

    private UserCredentialsValidator userCredentialsValidator = new UserCredentialsValidator();

    @Autowired
    private BCryptPasswordEncoder bCryptPasswordEncoder;

    @Override
    public Iterable<UserDTO> listAllUsers() {
        return convertManyToDTOs(userRepository.findAll());
    }

    @Override
    public User saveUser(User user) {
        return userRepository.save(user);
    }

    @Override
    public void removeUser(Integer id) {
        userRepository.delete(id);

        Iterable<Habit> userHabits = habitService.findHabitsByCreatorID(id);

        for (Habit habit : userHabits) {
            memberService.removeSpecifiedMember(habit.getId(), habit.getCreatorID());
            habit.setCreatorID(null);
            habit.setCreatorLogin(habit.getCreatorLogin() + "(ACCOUNT_NOT_EXISTS)");
        }
    }

    @Override
    public Boolean checkIfExists(Integer id) {
        if (userRepository.checkIfExists(id) > 0)
            return true;
        else
            return false;
    }

    @Transactional
    @Override
    public UserDTO registerNewUserAccount(RegisterViewModel register)
            throws EmailExistsException, LoginExistsException, BadCredentialsException, MessagingException {

        if (!userCredentialsValidator.isValidEmail(register.emailAddress))
            throw new BadCredentialsException("Wrong email format!");
        if (userRepository.existsByEmailAddress(register.emailAddress))
            throw new BadCredentialsException("Account with email " + register.emailAddress + " address already exists!");
        if (userRepository.existsByLogin(register.login))
            throw new LoginExistsException("Account with login " + register.login + " already exists!");
        if (!userCredentialsValidator.isLoginLengthValid(register.login))
            throw new BadCredentialsException("Login cannot be longer than 20 characters!");
        if (!userCredentialsValidator.isPasswordFormatValid(register.password))
            throw new BadCredentialsException("Password must be at least 6 characters long and cannot contain spaces!");
        if (!userCredentialsValidator.arePasswordsEquals(register))
            throw new BadCredentialsException("Passwords are not equal!");

        register.password = (bCryptPasswordEncoder.encode(register.password));

        EmailNotificationsSender sender = new EmailNotificationsSender();

        sender.sayHello(register.emailAddress, register.login);

        User user = new User();
        user.setLogin(register.login);
        user.setPassword(register.password);
        user.setEmailAddress(register.emailAddress);
        user.setImageCode("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");
        user.setNotifications(true);

        Stats stats = statsService.findStatsByDate(new Date());
        if (stats == null) {
            stats = new Stats();
        }
        stats.increaseCreatedAccounts();
        statsService.save(stats);

        User result = userRepository.save(user);

        List<User> users = (List<User>) userRepository.findAll();

        if (users.size() > 1) {

            Habit h = habitRepository.findByHabitTitle("Let's meet Goaleaf!");

            EmailNotificationsSender esender = new EmailNotificationsSender();
            esender.createInAppNotification(result.getId(), "GLFAdministrator invited you to challenge \"" + h.getHabitTitle() + "\"!", "http://www.goaleaf.com/challenge/" + h.getId(), false);
        }

        return convertToDTO(result);
    }

    public UserDTO updateUser(EditUserViewModel model) throws BadCredentialsException {

        User updated = new User();

        Claims claims = Jwts.parser()
                .setSigningKey(SECRET.getBytes(StandardCharsets.UTF_8))
                .parseClaimsJws(model.token).getBody();

        if (findById(Integer.parseInt(claims.getSubject())) != null) {
            User updatingUser = userRepository.findById(Integer.parseInt(claims.getSubject()));


            if (bCryptPasswordEncoder.matches(model.oldPassword, userRepository.findById(Integer.parseInt(claims.getSubject())).getPassword())) {
//                if (!model.emailAddress.isEmpty()) {
//                    if (!userCredentialsValidator.isValidEmail(model.emailAddress)) {
//                        throw new BadCredentialsException("Wrong email format!");
//                    } else {
//                        updatingUser.setEmailAddress(model.emailAddress);
//                    }
//                }
                if (model.newPassword.equals(model.matchingNewPassword)) {
                    if (!userCredentialsValidator.isPasswordFormatValid(model.newPassword)) {
                        throw new BadCredentialsException("Password must be at least 6 characters long and cannot contain spaces!");
                    } else {
                        updatingUser.setPassword(bCryptPasswordEncoder.encode(model.newPassword));
                    }
                } else
                    throw new BadCredentialsException("Passwords are not equal!");
            } else {
                throw new BadCredentialsException("Wrong Password!");
            }

            updated = userRepository.save(updatingUser);
        }
        return convertToDTO(updated);
    }

    public void updateUserImage(EditImageViewModel model) {
        User updatedUser = userRepository.findById(model.id);

        updatedUser.setImageCode(model.imageName);

        saveUser(updatedUser);
    }

    @Override
    public UserDTO findByLogin(String login) {
        return convertToDTO(userRepository.findByLogin(login));
    }

    @Override
    public UserDTO findById(Integer id) {
        return convertToDTO(userRepository.findById(id));
    }

    @Override
    public UserDTO findByEmailAddress(String email) {
        return convertToDTO(userRepository.findByEmailAddress(email));
    }

    @Override
    public Iterable<HabitDTO> getUserFinishedHabits(Integer userID) {
        Iterable<Member> memberList = memberRepository.findAllByUserID(userID);
        User user = userRepository.findById(userID);
        List<Habit> habits = new ArrayList<>(0);

        for (Member m : memberList) {
            if (m.getBanned()) {
                continue;
            }
            Habit h = new Habit();
            h = habitService.getHabitById(m.getHabitID());
            if (h.getFinished()) {
                habits.add(h);
            }
        }

        Iterable<HabitDTO> result = habitService.convertManyToDTOs(habits, false);
        return result;
    }

    @Override
    public Iterable<HabitDTO> getAllMyWonHabits(Integer userID) {
        User user = userRepository.findById(userID);
        Iterable<Member> members = memberRepository.findAllByUserID(userID);
        List<Habit> habits = new ArrayList<>(0);

        for (Member m : members) {
            Habit h = new Habit();
            h = habitService.getHabitById(m.getHabitID());
            if (h.getWinner().equals(user.getLogin())) {
                habits.add(h);
            }
        }

        Iterable<HabitDTO> result = habitService.convertManyToDTOs(habits, false);
        return result;
    }

    @Override
    public Iterable<HabitDTO> getAllMyUnfinishedHabits(Integer userID) {
        Iterable<Member> memberList = memberRepository.findAllByUserID(userID);
        List<Habit> habits = new ArrayList<>(0);

        for (Member m : memberList) {
            if (m.getBanned()) {
                continue;
            }
            Habit h = new Habit();
            h = habitService.getHabitById(m.getHabitID());
            if (!h.getFinished()) {
                habits.add(h);
            }
        }

        Iterable<HabitDTO> result = habitService.convertManyToDTOs(habits, false);
        return result;
    }

    @Override
    public void setNewPassword(PasswordViewModel newPasswords) throws BadCredentialsException {

        Claims claims = Jwts.parser()
                .setSigningKey(PASSWORD_RECOVERY_SECRET.getBytes(StandardCharsets.UTF_8))
                .parseClaimsJws(newPasswords.token).getBody();

        User user = userRepository.findById(Integer.parseInt(claims.getSubject()));

        if (!userCredentialsValidator.isPasswordFormatValid(newPasswords.password))
            throw new BadCredentialsException("Password must be at least 6 characters long and cannot contain spaces!");
        if (!(newPasswords.password.equals(newPasswords.matchingPassword)))
            throw new BadCredentialsException("Passwords are not equal!");

        user.setPassword(bCryptPasswordEncoder.encode(newPasswords.password));
        saveUser(user);
    }

    @Override
    public HttpStatus disableNotifications(ChangeNotificationsViewModel model) {

        User temp = userRepository.findById(model.userID);
        temp.setNotifications(!temp.getNotifications());
        userRepository.save(temp);

        return HttpStatus.OK;
    }

    @Override
    public UserDTO setEmailNotifications(SetEmailNotificationsViewModel model) {
        User temp = userRepository.findById(model.userID);
        temp.setNotifications(model.newNotificationsStatus);
        return convertToDTO(userRepository.save(temp));
    }

    @Override
    public void checkUserCredentials(LoginViewModel userModel) throws AccountNotExistsException, BadCredentialsException {
        if (userRepository.findByLogin(userModel.login) == null) {
            throw new AccountNotExistsException("Account with this login does not exists");
        }
        if (!bCryptPasswordEncoder.matches(userModel.password, userRepository.findByLogin(userModel.login).getPassword())) {
            throw new BadCredentialsException("Wrong password");
        }
    }

    @Override
    public File uploadProfileImage(MultipartFile multipartFile, String token) {

        Claims claims = Jwts.parser()
                .setSigningKey(SECRET.getBytes(StandardCharsets.UTF_8))
                .parseClaimsJws(token).getBody();

        File file = new File("photo");

// Create the file using the touch method of the FileUtils class.
// FileUtils.touch(file);

// Write bytes from the multipart file to disk.
        try {
            FileUtils.writeByteArrayToFile(file, multipartFile.getBytes());
        } catch (IOException e) {
            e.printStackTrace();
        }

        String fileCode = FileConverter.encodeFileToBase64Binary(file);
        File result = null;

        if (userRepository.findById(Integer.parseInt(claims.getSubject())) == null) {
            throw new RuntimeException("User does not exist!");
        }
        User user = userRepository.findById(Integer.parseInt(claims.getSubject()));
        user.setImageCode(fileCode);
        User response = userRepository.save(user);

        File resultFile = FileConverter.decodeFileFromBase64Binary(response.getImageCode());

        Iterable<Post> posts = postRepository.findAllByCreatorLogin(user.getLogin());
        Iterable<Comment> comments = commentRepository.findAllByUserID(user.getId());
        Iterable<Member> members = memberRepository.findAllByUserID(user.getId());

        for (Post p : posts) {
            p.setCreatorImage(fileCode);
            postRepository.save(p);
        }
        for (Comment c : comments) {
            c.setCreatorImage(fileCode);
            commentRepository.save(c);
        }
        for (Member m : members) {
            m.setImageCode(fileCode);
            memberRepository.save(m);
        }

        return resultFile;

    }

    @Override
    public File getProfilePicture(Integer userID) {

        if (userRepository.findById(userID) == null) {
            throw new RuntimeException("User does not exist!");
        }
        User user = userRepository.findById(userID);

        if (user.getImageCode() == null) {
            throw new RuntimeException("This user has no profile picture!");
        }
        return FileConverter.decodeFileFromBase64Binary(user.getImageCode());
    }

    @Override
    public String getUserImageCode(Integer userID) {
        if (userRepository.findById(userID) == null) {
            throw new RuntimeException("User does not exist!");
        }

        User user = userRepository.findById(userID);
        return user.getImageCode();
    }

    @Override
    public void resetPassword(EmailViewModel model) throws AccountNotExistsException, MessagingException {
        if (findByEmailAddress(model.emailAddress) == null)
            throw new AccountNotExistsException("Account with this email address does not exist!");

        String resetPasswordToken = JWT.create()
                .withSubject(String.valueOf(findByEmailAddress(model.emailAddress).getUserID()))
                .withClaim("Email", model.emailAddress)
                .withExpiresAt(new Date(System.currentTimeMillis() + PASSWORD_RECOVERY_SECRET_EXPIRATION_TIME))
                .sign(HMAC512(PASSWORD_RECOVERY_SECRET.getBytes()));
        jwtService.Validate(resetPasswordToken, PASSWORD_RECOVERY_SECRET);

        EmailSender sender = new EmailSender();
        sender.setSender("goaleaf@gmail.com", "spaghettiCode");
        sender.addRecipient(model.emailAddress);
        sender.setSubject("GoaLeaf Password Reset Request");
        sender.setBody("Hello " + findByEmailAddress(model.emailAddress).getLogin() + "!\n\n" +
                "Here's your confirmation link: http://goaleaf.com/resetpassword/" + resetPasswordToken + "\n\n" +
                "If you have not requested a password reset, ignore this message.\n\n" +
                "Thank you and have a nice day! :)\n\n" +
                "GoaLeaf group");
//        sender.addAttachment("TestFile.txt");
        sender.send();
    }

    @Override
    public HabitPageDTO getFinishedHabitsPaging(Integer pageNr, Integer objectsNr, String token) {
        Claims claims = Jwts.parser()
                .setSigningKey(SECRET.getBytes(StandardCharsets.UTF_8))
                .parseClaimsJws(token).getBody();

        Pageable pageable = new PageRequest(pageNr, objectsNr);
        Page<Habit> page = habitRepository.findAllByFinished(true, pageable);
        Iterable<Habit> list = page.getContent();

        List<HabitDTO> output = new ArrayList<>(0);
        for (Habit h : list) {
            Member member = memberRepository.findByHabitIDAndUserID(h.getId(), Integer.parseInt(claims.getSubject()));
            if (member != null && !h.getWinner().equals(member.getUserLogin())) {
                output.add(habitService.convertToDTO(h));
            }
        }

        return new HabitPageDTO(output, page.getNumber(), page.hasPrevious(), page.hasNext(), page.getTotalPages());
    }

    @Override
    public HabitPageDTO getWonHabitsPaging(Integer pageNr, Integer objectsNr, String token) {
        Claims claims = Jwts.parser()
                .setSigningKey(SECRET.getBytes(StandardCharsets.UTF_8))
                .parseClaimsJws(token).getBody();

        Pageable pageable = new PageRequest(pageNr, objectsNr);
        Page<Habit> page = habitRepository.findAllByFinished(true, pageable);
        Iterable<Habit> list = page.getContent();

        List<HabitDTO> output = new ArrayList<>(0);
        for (Habit h : list) {
            Member member = memberRepository.findByHabitIDAndUserID(h.getId(), Integer.parseInt(claims.getSubject()));
            if (member != null && h.getWinner().equals(member.getUserLogin())) {
                output.add(habitService.convertToDTO(h));
            }
        }

        return new HabitPageDTO(output, page.getNumber(), page.hasPrevious(), page.hasNext(), page.getTotalPages());
    }

    @Override
    public HabitPageDTO getUnFinishedHabitsPaging(Integer pageNr, Integer objectsNr, String token) {
        Claims claims = Jwts.parser()
                .setSigningKey(SECRET.getBytes(StandardCharsets.UTF_8))
                .parseClaimsJws(token).getBody();

        Pageable pageable = new PageRequest(pageNr, objectsNr);
        Iterable<Habit> input = habitRepository.findAllByFinished(false);

        List<HabitDTO> output = new ArrayList<>(0);
        for (Habit h : input) {
            Member member = memberRepository.findByHabitIDAndUserID(h.getId(), Integer.parseInt(claims.getSubject()));
            if (member != null) {
                output.add(habitService.convertToDTO(h));
            }
        }

        int start = pageable.getOffset();
        int end = (start + pageable.getPageSize()) > output.size() ? output.size() : (start + pageable.getPageSize());
        Page<HabitDTO> pages = new PageImpl<HabitDTO>(output.subList(start, end), pageable, output.size());

        return new HabitPageDTO(pages.getContent(), pages.getNumber(), pages.hasPrevious(), pages.hasNext(), pages.getTotalPages());
    }

    private UserDTO convertToDTO(User user) {

        if (user == null) {
            return null;
        }

        UserDTO dto = new UserDTO();

        dto.setEmailAddress(user.getEmailAddress());
        dto.setImageCode(user.getImageCode());
        dto.setLogin(user.getLogin());
        dto.setNotifications(user.getNotifications());
        dto.setUserID(user.getId());

        return dto;
    }

    private Iterable<UserDTO> convertManyToDTOs(Iterable<User> input) {
        List<UserDTO> out = new ArrayList<>(0);

        for (User u : input) {
            out.add(convertToDTO(u));
        }

        Iterable result = out;
        return result;
    }
}
